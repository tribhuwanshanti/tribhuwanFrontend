<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shree Tribhuwan Shanti Secondary School | Gallery</title>
    <link rel="shortcut icon" href="/icons/nav/fav.png" type="image/x-icon" />
    <meta
      name="description"
      content="Explore the vibrant life at Shree Tribhuwan Shanti Model Secondary School through our photo gallery. Events, activities, and campus life captured in frames."
    />
    <meta name="keywords" content="stsss gallery, school photos Pokhara, school events, campus life gallery">
    <meta name="author" content="Shree Tribhuwan Shanti Secondary School" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              bg_major: "#0A1535",
              bg_minor: "#FFFFFF",
              txt_major: "#0A1535",
              txt_minor: "#FFFFFF"
            }
          }
        }
      };
    </script>
    
    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    
    <!-- Components -->
    <script src="/js/components/SchoolHeader.js" type="module"></script>
    <script src="/js/components/SchoolFooter.js" type="module"></script>
  </head>

  <body class="font-sans bg-gray-50 text-[#0A1535] overflow-x-hidden">
    <school-header></school-header>

    <main class="pt-20 pb-20">
      <!-- Hero -->
      <section class="bg-white border-b border-gray-100 py-16">
         <div class="container mx-auto px-6 md:px-12 text-center md:text-left">
            <div class="max-w-3xl" data-aos="fade-up">
               <span class="bg-blue-50 text-blue-600 px-4 py-1 rounded-full text-sm font-bold uppercase tracking-widest">Visual Timeline</span>
               <h1 class="text-4xl md:text-6xl font-bold mt-4 mb-6 text-slate-900 leading-tight italic">Moments that <br><span class="text-blue-600">Define Us</span></h1>
               <p class="text-xl text-gray-500 leading-relaxed uppercase tracking-tighter">A window into the vibrant life, events, and community at Shree Tribhuwan Shanti Model Secondary School.</p>
            </div>
         </div>
      </section>

      <!-- Dynamic Gallery -->
      <section class="py-8 container mx-auto px-4 md:px-6" id="dynamic-gallery">
        <!-- Folders Grid -->
        <h2 class="text-2xl font-bold mb-6 text-gray-800">Albums</h2>
        <div id="gallery-folders" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-12">
           <!-- Folders injected via JS -->
           <div class="animate-pulse flex space-x-4">
              <div class="rounded-xl bg-gray-200 h-48 w-full"></div>
           </div>
        </div>

      </section>

      <!-- Static Gallery Grid -->
      <section class="py-12 container mx-auto px-4 md:px-6">
         <h2 class="text-2xl font-bold mb-6 text-gray-800">All Photos</h2>
         <div class="columns-1 md:columns-2 lg:columns-3 xl:columns-4 gap-4 space-y-4">
            <!-- Full collection of images -->
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl hover:scale-[1.02] transition duration-300 border border-gray-100" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101362/487876281_1397333264938953_644241923932771540_n.jpg_gckkao.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101479/488223431_1397334178272195_7594857768205259884_n.jpg_ltzlox.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101553/487990784_1397333964938883_160246576360520375_n.jpg_kpprwr.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101392/488103685_1397331778272435_4251027109758787937_n.jpg_umej0c.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101734/488614466_1396914771647469_33196608697607496_n.jpg_b464qu.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101450/488057368_1397333058272307_358121648393821466_n.jpg_bytwpb.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101631/488646373_1396915151647431_4961916186195298149_n.jpg_cl4l7i.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101581/488253884_1397335211605425_3805625654576819553_n.jpg_uj3y1s.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101672/488263501_1396914768314136_9049029359041886217_n.jpg_wz7byk.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101652/488528595_1396914868314126_2047912666218433237_n.jpg_clrryl.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101691/488659998_1396914864980793_4553779936129822532_n.jpg_gtsbie.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101721/488646352_1396915051647441_2980485054406121251_n.jpg_q9rxrg.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101761/488644960_1396915121647434_1094023024095633440_n.jpg_oftfpj.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101780/488658970_1396916378313975_7546593404786299494_n.jpg_qg3xwu.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101796/488485962_1396915008314112_6552863913471308151_n.jpg_ufsdqp.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101822/488763745_1396914751647471_5852127165971928621_n.jpg_vmcyhn.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101836/488574069_1396915934980686_8571173136397341951_n.jpg_zxy3ey.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101853/488658170_1396915938314019_3066914904728123982_n.jpg_nqi1ji.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101935/488886933_1396914008314212_993100692576212029_n.jpg_g275sf.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101962/488655736_1396913714980908_8476147090767365125_n.jpg_ypdo93.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101982/488937164_1396913968314216_5110680265167565407_n.jpg_kp3fpl.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102031/487016528_1391693125502967_1663132712816164377_n.jpg_s58wrn.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102061/486697340_1391692962169650_2355682541813404904_n.jpg_ndewlo.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102173/486071331_1387228239282789_3642057673916878809_n.jpg_pcuqky.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102202/485895846_1387229605949319_8462599733667805992_n.jpg_t42qbu.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102255/488602254_1396912384981041_2841087068741431808_n.jpg_jnrro9.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102320/488483373_1396912988314314_3153128423072998200_n.jpg_gb6sdp.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102336/488644065_1396913058314307_6917435871851551486_n.jpg_vfupb9.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751102758/488623210_1397332801605666_4251430082221706007_n.jpg_lfiruz.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1751101421/488579348_1397331688272444_4692463530442344003_n.jpg_rmdn5s.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305205/vqwm8bfbhp6f15ejyup3.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305206/kckimcng8f7zyqgwvyiw.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305207/aqcy1dbsqsispe6jizil.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305208/ilem56kkhmnibwsvscwy.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409405/yudekflcrrn15rdeo1ie.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305209/lakrd0hasll1njphmghi.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409415/dqbfhd3hivcksrjdl7zw.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409409/mhnf0lxym8de8abt6kxd.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409401/rdknfmi35j78us7fwhwa.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409402/ke5wlumyjuizbg2gsk69.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409397/mmlo8qhjmmvhqri6usvq.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409398/nymaocxhxshgfwbj4r1s.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409391/p9pwybbvz4b0buhv5zqt.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409386/sdtkw47zpqaajvkxdlvy.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719409383/s77owb73cc6x7zfdoemz.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305216/ouoacwjgeoh7geuc072l.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305214/jrisuxkoqclnlefv6srs.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305214/dds2kf5gewwtvbcrapog.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305213/cxdgfv4u5tedfca15bzs.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305212/xshsk7eulbcwvsrumbs3.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305212/wxul22psomp1ezei3adx.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305211/tp4uuviuv9x5itxrzur7.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305211/vcso6s7lrchh3bzztn3h.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305211/mkk0f3dg8lroipacvwbf.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305211/a5sjxzy9x7hyynrifhzs.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719305211/ego2i2nqyqywdpvtiyf8.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719278437/mccwnu9qqddao6bscihx.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719278437/uyqxyynsawm7wbqrz0lp.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719278437/hgxeg2m7sneiitafwhzg.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719244737/x6e0p4j4o1w1vcrxoiai.jpg">
            <img class="w-full rounded-2xl shadow-sm hover:shadow-xl" data-aos="fade-up" src="https://res.cloudinary.com/dzioycr1r/image/upload/v1719240781/e373ipxcd27rwudbnpps.jpg">
         </div>
      </section>

      <!-- CTA -->
      <section class="py-20 bg-[#0A1535] text-white mt-12 overflow-hidden relative">
         <div class="container mx-auto px-6 text-center relative z-10">
            <h2 class="text-3xl md:text-5xl font-bold mb-8 italic" data-aos="fade-up">Be Part of Our Next Chapter</h2>
            <a href="https://app.stsss.edu.np/pages/forms" class="inline-block px-12 py-5 bg-white text-blue-900 rounded-full font-bold text-lg hover:bg-blue-50 transition shadow-2xl" data-aos="zoom-in">
               Register Online Today
            </a>
         </div>
         <!-- Decor -->
         <div class="absolute top-0 left-0 w-64 h-64 bg-blue-600/10 rounded-full blur-3xl"></div>
         <div class="absolute bottom-0 right-0 w-96 h-96 bg-red-600/5 rounded-full blur-3xl"></div>
      </section>
    </main>

    <school-footer></school-footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({ duration: 800, once: true });

      // Dynamic Gallery Logic
      const API_BASE = 'https://app.stsss.edu.np'; // Backend URL
      const foldersContainer = document.getElementById('gallery-folders');
      const folderView = document.getElementById('folder-view');
      const folderTitle = document.getElementById('folder-title');
      const folderImages = document.getElementById('folder-images');

      async function loadFolders() {
          try {
              const res = await fetch(`${API_BASE}/api/gallery/folders`);
              if(!res.ok) throw new Error("Failed to load");
              const folders = await res.json();
              
              foldersContainer.innerHTML = '';
              if(folders.length === 0) {
                  foldersContainer.innerHTML = '<p class="text-gray-500 col-span-full text-center">No albums found.</p>';
                  return;
              }

              folders.forEach(folder => {
                  const div = document.createElement('a'); // Changed div to a for semantic linking
                  div.href = `/pages/gallery/album.html?id=${folder.id}`;
                  div.className = "block bg-white rounded-xl shadow-sm hover:shadow-md transition cursor-pointer overflow-hidden border border-gray-100 group";
                  
                  const img = folder.cover_image ? `<img src="${folder.cover_image}" class="h-64 w-full object-cover group-hover:scale-105 transition duration-500">` : `<div class="h-64 bg-gray-50 flex items-center justify-center text-gray-400"><i class="fas fa-images text-3xl"></i></div>`;
                  
                  div.innerHTML = `
                      <div class="relative h-full">
                          ${img}
                          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-5 pt-12">
                               <h3 class="text-white font-bold text-xl drop-shadow-sm">${folder.name}</h3>
                               <p class="text-white/90 text-sm mt-1 font-medium bg-black/20 inline-block px-2 py-0.5 rounded-full backdrop-blur-sm">${folder.image_count} Photos</p>
                          </div>
                      </div>
                  `;
                  div.setAttribute('data-aos', 'fade-up');
                  foldersContainer.appendChild(div);
              });
          } catch(e) {
              console.error(e);
              foldersContainer.innerHTML = '<p class="text-red-500 col-span-full">Failed to load albums. Please check connection.</p>';
          }
      }

      loadFolders();
    </script>
  </body>
</html>
